# Production Environment Variables for Data Module Sports-Only
# Copy this file to .env.production and fill in your values

# ============================================================================
# DATABASE
# ============================================================================
DB_PASSWORD=CHANGE_ME_TO_STRONG_PASSWORD
DATABASE_URL=postgresql://sports_user:${DB_PASSWORD}@postgres:5432/data_module_sports

# ============================================================================
# SPORTS-ONLY MODE
# ============================================================================
SPORTS_ONLY_MODE=true
FOCUS_TOPICS=SPORTS
EXCLUDE_MVE_MARKETS=true  # Filter out Same-Game Parlay markets

# ============================================================================
# KALSHI API CREDENTIALS
# ============================================================================
KALSHI_MODE=catalog  # Use catalog mode (series -> events -> markets)
KALSHI_API_KEY_ID=YOUR_KALSHI_API_KEY_ID
KALSHI_PRIVATE_KEY_PATH=/secrets/kalshi-private-key.pem

# Optional: HTTP proxy for Kalshi API
# HTTP_PROXY=http://proxy.example.com:8080

# ============================================================================
# QUOTES CONFIGURATION
# ============================================================================
QUOTES_MODE=watchlist  # Only fetch quotes for watchlist markets
QUOTES_INTERVAL_SECONDS=15  # High-frequency updates for live odds
QUOTES_WATCHLIST_LIMIT=500  # Top 500 sports markets

# ============================================================================
# ELIGIBILITY FILTERS
# ============================================================================
ELIGIBILITY_LOOKBACK_HOURS_SPORTS=168  # 7 days lookback for sports
ELIGIBILITY_GRACE_MINUTES=15  # Grace period after closeTime

# ============================================================================
# OPERATIONS (Auto-confirm/reject)
# ============================================================================
OPS_INTERVAL_MINUTES=10  # Run matching every 10 minutes
OPS_AUTO_CONFIRM=true  # Auto-confirm high-confidence matches
OPS_AUTO_REJECT=true  # Auto-reject low-quality matches

# ============================================================================
# MONITORING & ALERTS
# ============================================================================
ENABLE_LIVE_EVENTS_MONITOR=true
LIVE_EVENT_THRESHOLD_MINUTES=15  # Alert for events starting in 15 min

# Optional: Webhook for alerts (Discord, Slack, etc.)
# ALERT_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=info  # debug | info | warn | error
LOG_FILE=/app/logs/worker.log

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================
# Kalshi batch sizes
KALSHI_DB_BATCH=500
KALSHI_QUOTE_BATCH=100

# Rate limiting
KALSHI_STUCK_THRESHOLD_MIN=5
KALSHI_MAX_FAILURES_IN_ROW=3

# ============================================================================
# BACKUP CONFIGURATION
# ============================================================================
BACKUP_DIR=/backups/postgres
BACKUP_RETENTION_DAYS=7

# ============================================================================
# FEATURE FLAGS
# ============================================================================
# Enable specific features
ENABLE_ESPORTS=true  # Include esports (LoL, Dota2, CS:GO, etc.)
ENABLE_SOCCER=true   # Include soccer/football
ENABLE_US_SPORTS=true  # Include NBA, NFL, MLB, NHL
ENABLE_INDIVIDUAL_SPORTS=true  # Include tennis, golf, UFC, etc.

# Market type filters (for auto-confirm)
AUTO_CONFIRM_MONEYLINE=true
AUTO_CONFIRM_SPREAD=false  # More risky, requires manual review
AUTO_CONFIRM_TOTAL=false   # More risky, requires manual review
